<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>CalendarInfo</title>
    <link rel="stylesheet" href="/static/css/bootstrap.css">
    <link rel="stylesheet" href="/static/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="/static/css/bootstrap-table.min.css">
    <link rel="stylesheet" href="/static/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/index.css">
    <link rel="stylesheet" href="/static/css/timeSelect.css">
</head>
<body>
<div style="width: 100%;background-color: #213b54;" id="title">
    <div class="container">
        <div id="top" class="row">
            <img src="/static/ad/ad_top.jpg" alt="" class="col-3">
            <img src="/static/ad/ad_top.jpg" alt="" class="col-3">
            <img src="/static/ad/ad_top.jpg" alt="" class="col-3">
            <img src="/static/ad/ad_top.jpg" alt="" class="col-3">
        </div>
        <div id="nav">
            <nav class="navbar navbar-expand-lg ">
                <a class="navbar-brand" href="/">
                    <img src="/static/images/logo1.png" alt="LOGO">
                </a>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item ">
                            <a class="nav-link " href="/">7*24</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="/calendar/">Calendar</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/group/">Group</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/about-us/">About us</a>
                        </li>
                    </ul>
                    <form class="form-inline my-2 my-lg-0">
                        <input class="form-control mr-sm-2" type="text">
                        <button class="btn  my-2 my-sm-0" type="submit"><img src="/static/images/search.png" alt=""></button>
                    </form>
                </div>
                <div class="user-data">
                    <div class="user-header">
                        <img src="/static/images/header.png" alt="" width="40" height="40">
                    </div>
                    <div class="user-name"><span>Leon</span></div>
                    <div class="user-message cursor-pointer">
                        <img src="/static/images/message.png" alt="">
                    </div>
                </div>
            </nav>
        </div>
    </div>
</div>
<div id="main" class="container">
    <div id="main-left">
        <div id="main-left-top">
            <div class="ad-1">
                <a href=""><img src="/static/ad/ad1.jpg" class="w-100"></a>
            </div>
        </div>
        <div class="font-14 color-comment" style="margin-bottom: 1.85rem;">
            Ủng da đã được bận rộn với tất cả các loại hiệu quả, nhưng tôi không biết cách sử dụng cơ bản nhất mà không được đề cập đến
        </div>
        <table style="width: 100%" class="color-comment" id="calendar-detail-table">
            <thead>
            <tr>
                <th class="w-25">Pre</th>
                <th class="w-25">Exp</th>
                <th class="w-25">Act</th>
                <th class="w-25">Imp</th>
            </tr>

            </thead>
            <tbody>
            <tr>
                <td class="w-25">10%</td>
                <td class="w-25">12%</td>
                <td class="w-25">---</td>
                <td class="w-25">
                    <div style="display: flex;justify-content: center;align-items: center">
                        <div class="flat">=</div>
                    </div>

                </td>
            </tr>
            </tbody>
        </table>
        <div id="chart" STYLE="height: 25rem;margin-top: 1.25rem;"></div>
    </div>
    <div id="main-right">
        <div class="ad-1">
            <div>
                <img src="/static/ad/ad1.jpg" alt="">
            </div>

        </div>
        <div class="ad-1">
            <div>
                <img src="/static/ad/ad_group.jpg" alt="">
            </div>

        </div>
        <div class="ad-1">
            <div>
                <img src="/static/ad/ad_group.jpg" alt="">
            </div>

        </div>
        <div class="ad-2">
            <div><img src="/static/ad/ad2.jpg" alt=""></div>
            <div><img src="/static/ad/ad2.jpg" alt=""></div>
        </div>
        <div class="ad-3">
            <div><img src="/static/ad/ad3.jpg" alt=""></div>
            <div><img src="/static/ad/ad3.jpg" alt=""></div>
            <div><img src="/static/ad/ad3.jpg" alt=""></div>
        </div>
        <div class="ad-4">
            <div><img src="/static/ad/ad4.jpg" alt=""></div>
            <div><img src="/static/ad/ad4.jpg" alt=""></div>
            <div><img src="/static/ad/ad4.jpg" alt=""></div>
            <div><img src="/static/ad/ad4.jpg" alt=""></div>
        </div>

    </div>
</div>

{#<div id="footer-ad">#}
{#    <div class="container">#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#        <a href="#"><img src="/static/ad/ad_r.jpg" alt=""></a>#}
{#    </div>#}
{#</div>#}

<div style="width: 100%;background-color: #213b54;">
    <div id="footer" class="container">
        <div class="footer-left">
            <img src="/static/images/logo2.png" alt="">
        </div>
        <div class="footer-right">
            <div class="whatsApp">
                <img src="/static/images/whatsapp.png" alt="">
            </div>
            <div class="facebook">
                <img src="/static/images/facebook.png" alt="">
            </div>
            <div class="tiwtter">
                <img src="/static/images/tiwtter.png" alt="">
            </div>
            <div class="zalo">
                <img src="/static/images/zalo.png" alt="">
            </div>
        </div>
    </div>
        <div id="footer-ad" class="container">
        <div class="footer-ad-left">
            <img src="/static/ad/pic1.png" alt="">
            <img src="/static/ad/pic2.png" alt="">
            <img src="/static/ad/pic3.png" alt="">
            <img src="/static/ad/pic4.png" alt="">
            <img src="/static/ad/pic5.png" alt="">
            <img src="/static/ad/pic6.png" alt="">
            <img src="/static/ad/pic7.png" alt="">
            <img src="/static/ad/pic8.png" alt="">
            <img src="/static/ad/pic7.png" alt="">
            <img src="/static/ad/pic8.png" alt="">
        </div>
        <div class="footer-ad-right">
            <h1>Title</h1>
            <span>Word</span>
        </div>

    </div>
    <div class="footer-ad-bottom container">
        <div>
            <h1>Title</h1>
            <span>Word</span>
        </div>
        <div>
            <h1>Title</h1>
            <span>Word</span>
        </div>
    </div>
</div>

<div id="fixed-left">
    <div>
        <img src="/static/ad/ad_left.jpg" width="160" height="300" alt="">
    </div>
    <div><img src="/static/ad/ad_left.jpg" width="160" height="300" alt=""></div>
    <div><img src="/static/ad/ad_foot.jpg" width="160" height="160" alt=""></div>
</div>
<div id="fixed-right">
    <div>
        <img src="/static/ad/ad_right.jpg" width="160" height="300" alt="">
    </div>
    <div><img src="/static/ad/ad_right.jpg" width="160" height="300" alt=""></div>
    <div><img src="/static/ad/ad_foot.jpg" width="160" height="160" alt=""></div>
</div>
<script src="/static/js/bin/jquery-2.1.4.js"></script>
<script src="/static/js/bin/bootstrap.js"></script>
<script src="/static/js/bin/moment.js"></script>
<script src="/static/layer/layer.js"></script>
<script src="/static/js/bin/autosize.js"></script>
<script src="/static/js/bin/bootstrap-datepicker.js"></script>
<script src="/static/js/bin/bootstrap-table.js"></script>
<script src="/static/js/bin/Echart-4.7.min.js"></script>
<script src="/static/js/index/default.js"></script>
<script src="/static/js/index/timeSelect.js"></script>
<script>
    $(function () {
        var date = '',
            filter = 0;
        $('.calendar-choose-box .date ').datepicker({
            format: 'yyyy-mm-dd',
            orientation: "bottom auto",
            autoclose: true
        });

        function mergeCells(data, fieldName, colspan, target) {
            if (data.length == 0) {
                alert("不能传入空数据");
                return;
            }
            var numArr = [];
            var value = data[0]['time'];
            var value1 = data[0]['area'];
            var num = 0;
            for (var i = 0; i < data.length; i++) {
                if (value != data[i]['time']) {
                    numArr.push(num);
                    value = data[i]['time'];
                    num = 1;
                    continue;
                }
                if (value1 != data[i]['area']) {
                    numArr.push(num);
                    value1 = data[i]['area'];
                    num = 1;
                    continue;
                }
                num++;
            }
            if (typeof (value) != "undefined" && value != "" && typeof (value1) != "undefined" && value1 != "") {
                numArr.push(num);
            }
            var merIndex = 0;
            for (var i = 0; i < numArr.length; i++) {
                console.log(numArr[i]);
                $(target).bootstrapTable('mergeCells', {index: merIndex, field: 'time', colspan: colspan, rowspan: numArr[i]});
                $(target).bootstrapTable('mergeCells', {index: merIndex, field: 'area', colspan: colspan, rowspan: numArr[i]});
                merIndex += numArr[i];
            }

        };

        $('input[name="choose-date"]').on('change', function () {
            date = $(this).val();
            $('.main-calendar-title-left span:first-child').text(date)
            $('#economicDataTable').bootstrapTable('refresh')
        });

        $('.calendar-title-filter-btn').on('click', function () {
            $('.filter-choose').css('display', 'flex')
        });
        $('.filter-choose .filter-choose-btn').on('click', function () {
            var _self = this;
            $('.filter-choose .active').removeClass('active')
            $(_self).addClass('active');
            filter = $(_self).data('filter');
            $('.filter-choose').css('display', 'none');
            $('#economicDataTable').bootstrapTable('refresh')
        })


        $.ajax({
        url: "/getcalendargraphdata/?id={{ jid }}",
        type: "GET",
        success: function (data) {
            if (data.status == 200) {
                dataArray = [['xx', 'Act', 'Exp']];
                for (i = 0; i < data.data.length; i++) {
                    dataArray.push([data.data[i].xx, data.data[i].actual, data.data[i].consensus])
                }
                console.log(dataArray)
                option = {
                    tooltip: {
                        trigger: "axis", axisPointer: {type: "shadow"}
                    },
                    legend: {
                        left: '1%',
                    },
                    dataset: {
                        source: dataArray
                    },
                    xAxis: {type: 'category'},
                    yAxis: {},
                    series: [
                        {type: 'bar', itemStyle: {color: "#0394de"}},
                        {type: 'bar', itemStyle: {color: "#ff6303"}},
                    ],

                };
                var myChart = echarts.init(document.getElementById('chart'));
                myChart.setOption(option);
            }
        }
    })

    })
</script>
</body>
</html>